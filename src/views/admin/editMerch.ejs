<!DOCTYPE html>
<html>

<%- include('../partials/head',{ title : 'ADMIN' }) %>

    <body>
        <%- include('../partials/header') %>

            <main class="container">
                <div class="row">
                    <div class="col-md-8 mx-auto">
                        <form id="albumForm" action="/products/edit/merch/<%= merch.id %>?_method=PUT" method="POST" enctype="multipart/form-data">
                            <div class="mb-3">
                                <label for="name" class="form-label">Nombre</label>
                                <input type="text" class="form-control <%= locals.errors && (errors.name && 'is-invalid') %>" id="name" name="name" value="<%= merch.name %>">
                                <small class="ms-2 text-danger"><%= locals.errors && (errors.name && errors.name.msg) %></small>

                            </div>
                        
                            <div class="mb-3">
                                <label for="price" class="form-label">Precio</label>
                                <input type="number" step="0.01" class="form-control <%= locals.errors && (errors.price && 'is-invalid') %>" id="price" name="price" value="<%= merch.price %>">
                                <small class="ms-2 text-danger"><%= locals.errors && (errors.price && errors.price.msg) %></small>

                            </div>
                        
                            <div class="mb-3">
                                <label for="discount" class="form-label">Descuento (%)</label>
                                <input type="number" step="0.01" class="form-control <%= locals.errors && (errors.discount && 'is-invalid') %>" id="discount" name="discount" value="<%= merch.discount || 0 %>">
                                <small class="ms-2 text-danger"><%= locals.errors && (errors.discount && errors.discount.msg) %></small>

                            </div>
                        
                            <div class="mb-3">
                                <label for="bandId" class="form-label">Banda</label>
                                <select class="form-select" id="bandId" name="bandId">
                                    <% bands.forEach(band => { %>
                                        <option <%= band.id === merch.bandId ? 'selected' : '' %> value="<%= band.id %>"><%= band.name %></option>
                                    <% }) %>
                                </select>
                            </div>
                        
                            <div class="mb-3">
                                <label for="typeId" class="form-label">Tipo</label>
                                <select class="form-select" id="typeId" name="typeId">
                                    <% types.forEach(type => { %>
                                        <option <%= type.id === merch.typeId ? 'selected' : '' %> value="<%= type.id %>"><%= type.name %></option>
                                    <% }) %>
                                  
                                    
                                </select>
                            </div>
                        
                            <div class="mb-3">
                                <label for="exclusive" class="form-label">Exclusivo</label>
                                <input type="checkbox" id="exclusive" name="exclusive" <%= merch.exclusive === 1 ? 'checked' : '' %>>
                            </div>
                        
                            <div class="mb-3">
                                <label for="description" class="form-label">Descripci√≥n</label>
                                <textarea class="form-control <%= locals.errors && (errors.description && 'is-invalid') %>" id="description" name="description" rows="3"><%= merch.description %></textarea>
                                <small class="ms-2 text-danger"><%= locals.errors && (errors.description && errors.description.msg) %></small>

                            </div>
                        
                            <div class="mb-3 d-flex flex-column align-items-center">
                                <div class="col-8 col-md-4"> <img class="img-fluid" src="/images/merch/<%= merch.image %>" alt=""></div>
                                <div class="col-8 col-md-4">
                                    <label for="image" class="btn btn-secondary">Cambiar la imagen</label>
                                    <input hidden type="file" class="form-control" id="image" name="image">
                                    <small class="ms-2 text-danger"><%= locals.errors && (errors.image && errors.image.msg) %></small>

                                </div>
                               
                            </div>
                        
                            <div class="mb-3">
                                <button type="submit" class="btn btn-success" id="enviarForm">Actualizar</button>
                            </div>
                        </form>
                    </div>
                </div>
            </main>


          

            <%- include('../partials/footer') %>

    </body>

</html>