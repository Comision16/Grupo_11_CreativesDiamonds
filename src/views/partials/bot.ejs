<section>
    <div class="chatbot" id="chatbot">
        <!-- Your existing chatbot HTML code -->

        <h1>ChatBot</h1>
        <div id="chat-container">
            <!-- Aquí se mostrarán los mensajes de chat -->
        </div>
        <div id="question-buttons">
            <button class="question-button">¿Cómo estás?</button>
            <button class="question-button">¿Cuál es tu nombre?</button>
            <button class="question-button">¿Qué hora es?</button>
            <!-- Agrega más botones con preguntas aquí -->
        </div>
        <input type="text" id="input-box" placeholder="Escribe tu pregunta...">
        <button id="send-button">Enviar</button>

    
    </div>
    <button id="toggle-button">ChatBoot</button>
</section>

<script>
    class ChatBot {
        constructor() {
            this.responses = [
                {
                    pattern: /¿?c[oó]mo est[aá]s\??/i,
                    response: "Estoy bien, ¡gracias por preguntar!"
                },
                {
                    pattern: /¿?cu[aá]l es tu nombre\??/i,
                    response: "Soy un chat bot."
                },
                {
                    pattern: /¿?qu[eé] hora es\??/i,
                    response: "Lo siento, no tengo acceso a la hora actual."
                },

            ];
        }
        normalize(text) {
            return text.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
        }

        responder(pregunta) {
            pregunta = this.normalize(pregunta);

            for (const item of this.responses) {
                if (item.pattern.test(pregunta)) {
                    return item.response;
                }
            }
            return "Lo siento, no entiendo esa pregunta.";
        }
    }




    const bot = new ChatBot();
    const chatContainer = document.getElementById("chat-container");
    const inputBox = document.getElementById("input-box");
    const sendButton = document.getElementById("send-button");
    const questionButtons = document.querySelectorAll(".question-button");
    const toggleButton = document.getElementById("toggle-button");
    const chatbotSection = document.getElementById("chatbot");

    toggleButton.addEventListener("click", () => {
        if (chatbotSection.style.display === "none") {
            chatbotSection.style.display = "block";
        } else {
            chatbotSection.style.display = "none";
        }
    });


    questionButtons.forEach(button => {
        button.addEventListener("click", () => {
            const pregunta = button.textContent;
            const respuesta = bot.responder(pregunta);

            const message = document.createElement("div");
            message.className = "message";
            message.innerHTML = `<strong>Tú:</strong> ${pregunta}<br><strong>Chat bot:</strong> ${respuesta}`;

            chatContainer.appendChild(message);
        });
    });

    sendButton.addEventListener("click", () => {
        const pregunta = inputBox.value.trim();
        const respuesta = bot.responder(pregunta);

        const message = document.createElement("div");
        message.className = "message";
        message.innerHTML = `<strong>Tú:</strong> ${pregunta}<br><strong>Chat bot:</strong> ${respuesta}`;

        chatContainer.appendChild(message);
        inputBox.value = "";
    });
</script>

</section>